# 문제 1: 절단 오차와 반올림 오차 (10점)

## 📚 강의 노트 참조
- **Lecture 01: Numerical Methods Introduction**
  - p.6: Types of errors (truncation, rounding)
  - p.12-16: Error analysis in numerical differentiation

---

## 📋 원본 문제

> **문제 1 (10점)**
>
> 중심차분 공식 (central difference formula)을 사용하여 미분 계수를 계산할 때:
>
> $$\frac{\partial f}{\partial x} \approx \frac{f(x+\varepsilon) - f(x-\varepsilon)}{2\varepsilon}$$
>
> 절단 오차 (truncation error)와 반올림 오차 (rounding error)를 간략히 설명하고, $\varepsilon$의 크기에 따라 전체 오차가 어떻게 달라지는지 설명하시오.

---

## 🎯 문제가 뭘 묻는 건가요?

컴퓨터로 미분을 계산할 때, **두 가지 종류의 오차**가 발생합니다.
이 두 오차가 각각 뭔지, 그리고 $\varepsilon$ 값을 바꾸면 어떻게 되는지 설명하라는 문제입니다.

---

## 💡 Step 1: 먼저 "중심차분"이 뭔지 이해하기

### 미분의 정의를 떠올려 봅시다

고등학교 때 배운 미분의 정의:

$$f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h}$$

**직관적 의미**: $h$를 아주 작게 하면, 점 $x$에서의 순간 기울기를 구할 수 있어요.

### 문제: 컴퓨터는 "극한"을 계산 못 해요

컴퓨터는 무한히 작은 값을 다룰 수 없습니다. 그래서 $h$를 **아주 작은 유한한 값** $\varepsilon$으로 대체합니다:

$$f'(x) \approx \frac{f(x+\varepsilon) - f(x-\varepsilon)}{2\varepsilon}$$

이게 바로 **중심차분 공식**입니다.

### 왜 "중심"이라고 부르나요?

```
      f(x-ε)          f(x)          f(x+ε)
        ●──────────────●──────────────●
        ↑              ↑              ↑
     왼쪽 점        중심 점        오른쪽 점
```

$x$를 **중심**으로 양쪽의 값을 사용하기 때문입니다.

---

## 💡 Step 2: 절단 오차 (Truncation Error)

### 이름의 유래

"절단"은 **잘라낸다**는 뜻입니다. 뭘 잘라내냐면, **테일러 급수의 뒷부분**을 잘라냅니다.

### 테일러 급수란?

함수를 **무한 다항식**으로 표현하는 방법입니다:

$$f(x+\varepsilon) = f(x) + \varepsilon f'(x) + \frac{\varepsilon^2}{2}f''(x) + \frac{\varepsilon^3}{6}f'''(x) + \cdots$$

**비유**: 함수를 여러 겹의 양파처럼 펼쳐놓는 거예요.
- 첫 번째 항: 원래 값
- 두 번째 항: 기울기의 영향
- 세 번째 항: 곡률의 영향
- ... (점점 작아짐)

### 절단 오차가 생기는 이유

중심차분 공식을 유도해 볼게요:

$$f(x+\varepsilon) = f(x) + \varepsilon f'(x) + \frac{\varepsilon^2}{2}f''(x) + \frac{\varepsilon^3}{6}f'''(x) + \cdots$$

$$f(x-\varepsilon) = f(x) - \varepsilon f'(x) + \frac{\varepsilon^2}{2}f''(x) - \frac{\varepsilon^3}{6}f'''(x) + \cdots$$

두 식을 빼면:

$$f(x+\varepsilon) - f(x-\varepsilon) = 2\varepsilon f'(x) + \frac{2\varepsilon^3}{6}f'''(x) + \cdots$$

양변을 $2\varepsilon$으로 나누면:

$$\frac{f(x+\varepsilon) - f(x-\varepsilon)}{2\varepsilon} = f'(x) + \underbrace{\frac{\varepsilon^2}{6}f'''(x) + \cdots}_{\text{이 부분이 절단 오차!}}$$

### 핵심 포인트

$$\text{절단 오차} \approx \frac{\varepsilon^2}{6}f'''(x)$$

- **$\varepsilon$이 작아지면** → 절단 오차가 **줄어듭니다** ✓
- $\varepsilon = 0.1$이면 오차는 약 $0.01$ 수준
- $\varepsilon = 0.01$이면 오차는 약 $0.0001$ 수준

**직관**: $\varepsilon$을 작게 할수록 "진짜 미분"에 가까워지니까 오차가 줄어드는 게 당연하죠!

---

## 💡 Step 3: 반올림 오차 (Rounding Error)

### 컴퓨터는 실수를 정확히 저장 못 해요

컴퓨터는 모든 숫자를 **유한한 자릿수**로 저장합니다.

예를 들어, $\pi = 3.141592653589793...$를 컴퓨터는 대략 16자리까지만 저장해요:
```
저장된 값: 3.141592653589793
실제 값:   3.14159265358979323846...
```

이 차이가 **반올림 오차**입니다.

### 왜 $\varepsilon$이 작으면 반올림 오차가 커지나요?

구체적인 예를 봅시다:

```
ε = 0.1일 때:
  f(x+ε) = 1.234567890000000
  f(x-ε) = 1.234567000000000
  차이   = 0.000000890000000  ← 유효숫자 3개 남음

ε = 0.0000001일 때:
  f(x+ε) = 1.234567890123456
  f(x-ε) = 1.234567890123400
  차이   = 0.000000000000056  ← 유효숫자 2개 남음!
```

### 치명적 소거 (Catastrophic Cancellation)

**비슷한 두 수를 빼면 유효숫자가 사라집니다!**

```
비유:
  당신 키: 175.123456 cm
  친구 키: 175.123400 cm
  차이:      0.000056 cm

  → 원래 6자리 정밀도가 2자리로 줄어버림!
```

$\varepsilon$이 작아질수록 $f(x+\varepsilon)$와 $f(x-\varepsilon)$가 비슷해지고,
뺄셈 결과의 **유효숫자가 사라집니다**.

### 핵심 포인트

- **$\varepsilon$이 작아지면** → 반올림 오차가 **커집니다** ✗
- 이건 절단 오차와 **반대 방향**이에요!

---

## 💡 Step 4: 트레이드오프 (Trade-off)

### 딜레마 상황

| $\varepsilon$ | 절단 오차 | 반올림 오차 |
|--------------|----------|-----------|
| 크게 | 크다 ✗ | 작다 ✓ |
| 작게 | 작다 ✓ | 크다 ✗ |

**어떻게 해야 하죠?** 🤔

### 그래프로 이해하기

```
전체 오차
    ↑
    │╲                    ╱
    │ ╲   반올림 오차    ╱
    │  ╲               ╱
    │   ╲             ╱
    │    ╲    ___    ╱
    │     ╲__╱  ╲__╱
    │      절단    ← 이 지점이 최적의 ε!
    │      오차
    └────────────────────────→ ε
   작음                      큼
```

### 최적의 $\varepsilon$ 값

수학적으로 계산하면:

$$\varepsilon_{\text{최적}} \approx 10^{-5} \sim 10^{-6}$$

(64비트 컴퓨터 기준)

**실용적 팁**: 수치 미분할 때 $\varepsilon = 10^{-5}$ 정도를 쓰면 대체로 좋습니다!

---

## ✅ 최종 답안

### 절단 오차 (Truncation Error)

- **정의**: 무한한 수학 공식을 유한한 형태로 근사할 때 발생하는 오차
- **원인**: 테일러 급수의 고차항을 무시
- **$\varepsilon$과의 관계**: $\varepsilon$ 감소 → 오차 **감소**

### 반올림 오차 (Rounding Error)

- **정의**: 컴퓨터가 실수를 유한 자릿수로 표현할 때 발생하는 오차
- **원인**: 비슷한 두 수의 뺄셈으로 유효숫자 손실
- **$\varepsilon$과의 관계**: $\varepsilon$ 감소 → 오차 **증가**

### 결론

두 오차는 **서로 반대 방향**으로 움직이므로, **최적의 $\varepsilon$이 존재**합니다.

---

**작성일**: 2025-12-03
**과목**: 금융수치해석기법 기말고사 2024
